"use strict";(self.webpackChunkfarmersescos_web_portal=self.webpackChunkfarmersescos_web_portal||[]).push([[62],{62:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var r=a(2996),n=a(9263),i=a(1834),o=a(5269),t=a(3514),l=a(3077),c=a(1773),d=a(9978),x=a(8030),m=a(8843),u=a(3513),f=a(5522),p=a(3216),A=a(4066),h=a(7677),j=a(600),g=a(8331),b=a(3892),v=a(8863),w=a(5043),y=a(9824),z=a(5030),F=a(9217),D=a(184),L=a(1036),T=a(4021);var G=a(4399),k=a(156),C=a(579);function P(){const[e,s]=(0,w.useState)(!1),{id:a}=(0,p.g)(),{data:P,error:R,isFetching:S}=(0,A.nz)(a),[N,V]=(0,D.A)(),[_,O]=function(){const[e,s]=(0,w.useState)(!1),[a]=(0,A.$D)();return[async function(e,r){const{unwrap:n}=a({farmerId:e,...r});try{s(!0);const e=await n();return L.oR.success("Farmer updated"),e}catch(i){L.oR.error(`Farmer update failed. Reason: ${(0,T.A)(i)}`)}finally{s(!1)}},e]}();return R?(0,C.jsx)(r.Ay,{children:R}):S?(0,C.jsx)(h.A,{}):P?(0,C.jsxs)(n.A,{sx:{padding:2,marginBottom:3,maxWidth:800,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[(0,C.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",borderRadius:"md"},variant:"soft",color:"success",children:(0,C.jsxs)(n.A,{sx:{width:400,position:"relative"},children:[(0,C.jsx)(o.A,{variant:"plain",children:(0,C.jsx)("img",{src:(0,y.A)(P.coverPhoto),alt:P.firstName})}),(0,C.jsx)(t.A,{size:"lg",variant:"solid",src:(0,y.A)(P.profilePhoto),sx:{position:"absolute",left:10,bottom:-20}})]})}),(0,C.jsxs)(l.A,{variant:"soft",color:"warning",buttonFlex:1,sx:{marginTop:4},children:[(0,C.jsx)(c.A,{disabled:V,loading:V,loadingPosition:"start",startDecorator:(0,C.jsx)(u.A,{}),onClick:async()=>await N(a),children:"Delete"}),(0,C.jsx)(c.A,{startDecorator:(0,C.jsx)(f.A,{}),children:"Reset"})]}),(0,C.jsx)(v.A,{initialValues:{...P},validationSchema:k.Ay,onSubmit:async e=>{const s=(0,G.A)(P,e);console.log("Updated Values: ",s),await _(a,s)},onDirty:e=>s(e),children:(0,C.jsx)(b.lV,{children:(0,C.jsxs)(n.A,{sx:{marginTop:4},children:[(0,C.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,C.jsx)(j.A,{sx:{flexGrow:1},name:"firstName",label:"First name"}),(0,C.jsx)(j.A,{sx:{flexGrow:1},label:"Last name",name:"lastName"})]}),(0,C.jsx)(j.A,{sx:{marginTop:2},label:"Phone number",name:"phoneNumber",endDecorator:P.isVerified?(0,C.jsx)(x.A,{color:"success"}):(0,C.jsx)(c.A,{variant:"soft",size:"sm",color:"danger",children:"Verify"})}),(0,C.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{marginTop:2},children:[(0,C.jsx)(j.A,{sx:{flexGrow:1},label:"Latitude",name:"latitude"}),(0,C.jsx)(j.A,{containerSx:{flexGrow:1},label:"Longitude",name:"longitude"})]}),(0,C.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{marginTop:3},children:[(0,C.jsx)(j.A,{sx:{flexGrow:1},label:"Farm name",name:"farmName",value:P.farmName}),(0,C.jsx)(j.A,{sx:{flexGrow:1},label:"Farm size",name:"farmSize"}),(0,C.jsx)(j.A,{sx:{flexGrow:1},label:"Farm date",name:"farmEstablishedOn",type:"date"})]}),(0,C.jsx)(g.A,{sx:{marginTop:2},label:"Farm description",name:"farmDescription"}),(0,C.jsx)(z.A,{options:F.YQ,sx:{marginTop:2},label:"Animals",name:"animalsKept"}),(0,C.jsx)(j.A,{name:"animalsPerType",label:"For each animal selected, how many animals do you rear?",placeholder:"10,15,20",sx:{marginBottom:1}}),(0,C.jsx)(z.A,{options:F.yk,sx:{marginTop:2},label:"Crops",name:"cropsGrown"}),(0,C.jsx)(j.A,{name:"acreagePerCrop",label:"For each crop selected, how many acres per crop?",placeholder:"10,15,20",sx:{marginTop:2}}),(0,C.jsxs)(d.A,{direction:"row",sx:{marginTop:3,width:"100%",position:"sticky",bottom:0,zIndex:"fab"},children:[(0,C.jsx)(c.A,{sx:{flexGrow:1},type:"reset",size:"md",variant:"soft",color:"success",disabled:!e||O,children:"Undo Changes"}),(0,C.jsx)(c.A,{size:"md",color:"success",variant:"solid",startDecorator:(0,C.jsx)(m.A,{}),sx:{flexGrow:2,marginLeft:2},type:"submit",disabled:!e||O,loading:O,loadingPosition:"start",children:"Save"})]})]})})})]}):void 0}},8863:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(3892),n=a(5043),i=a(579);function o(e){let{onDirty:s,children:a}=e;const{dirty:o}=(0,r.j7)();return(0,n.useEffect)((()=>{s(o)}),[o,s]),(0,i.jsx)(i.Fragment,{children:a})}function t(e){let{children:s,onDirty:a,...n}=e;return(0,i.jsx)(r.l1,{...n,children:(0,i.jsx)(o,{onDirty:a,children:s})})}},4399:(e,s,a)=>{a.d(s,{A:()=>t});const r=a(9159),n=a(67),i=a(6878),{isArray:o}=Array;function t(e,s){return function e(s,a){let t=0;return r(s,(function(s,r,l){if(!n(r,a[l])){s[o(a)?t++:l]=i(r)&&i(a[l])?e(r,a[l]):r}}))}(s,e)}},5522:(e,s,a)=>{var r=a(4994);s.A=void 0;var n=r(a(39)),i=a(579);s.A=(0,n.default)((0,i.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9 0 .06.01.12.01.19l-1.84-1.84-1.41 1.41L5 16l4.24-4.24-1.41-1.41-1.82 1.82c0-.06-.01-.11-.01-.17 0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockResetOutlined")},8030:(e,s,a)=>{var r=a(4994);s.A=void 0;var n=r(a(39)),i=a(579);s.A=(0,n.default)([(0,i.jsx)("path",{d:"M23 11.99 20.56 9.2l.34-3.69-3.61-.82L15.4 1.5 12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 11.99l2.44 2.79-.34 3.7 3.61.82 1.89 3.2 3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-3.95 1.48-.56.65.08.85.18 1.95-1.9.43-.84.19-.44.74-.99 1.68-1.78-.77-.8-.34-.79.34-1.78.77-.99-1.67-.44-.74-.84-.19-1.9-.43.18-1.96.08-.85-.56-.65L3.67 12l1.29-1.48.56-.65-.09-.86-.18-1.94 1.9-.43.84-.19.44-.74.99-1.68 1.78.77.8.34.79-.34 1.78-.77.99 1.68.44.74.84.19 1.9.43-.18 1.95-.08.85.56.65 1.29 1.47z"},"0"),(0,i.jsx)("path",{d:"m10.09 13.75-2.32-2.33-1.48 1.49 3.8 3.81 7.34-7.36-1.48-1.49z"},"1")],"VerifiedOutlined")}}]);
//# sourceMappingURL=62.036c6f07.chunk.js.map