"use strict";(self.webpackChunkfarmersescos_web_portal=self.webpackChunkfarmersescos_web_portal||[]).push([[40],{9040:(e,s,i)=>{i.r(s),i.d(s,{default:()=>C});var t=i(9263),a=i(1834),r=i(5269),n=i(3514),o=i(3077),l=i(1773),c=i(9978),d=i(3216),x=i(7677),m=i(2155),u=i(8030),A=i(8843),h=i(5522),f=i(3513),j=i(600),p=i(3892),g=i(5030),b=i(6582),v=i(1036),y=i(4399),w=i(5847),D=i(4021),z=i(8863),L=i(5043),T=i(9824),R=i(9745);var k=i(579);function C(){const{id:e}=(0,d.g)(),[s,i]=(0,L.useState)(!1),[C,S]=(0,R.A)(),[G,P]=function(){const[e,s]=(0,L.useState)(!1),[i]=(0,m.OC)();return[async function(e,t){const{unwrap:a}=i({escoId:e,...t});try{s(!0);const e=await a();return v.oR.success("Esco updated"),e}catch(r){v.oR.error(`Esco update failed. Reason: ${(0,D.A)(r)}`)}finally{s(!1)}},e]}(),{data:V,error:E,isFetching:_}=(0,m.Sh)(e);return _?(0,k.jsx)(x.A,{}):E?v.oR.error((0,D.A)(E)):V?(0,k.jsxs)(t.A,{sx:{padding:2,marginBottom:3,maxWidth:800,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[(0,k.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",borderRadius:"md"},variant:"soft",color:"success",children:(0,k.jsxs)(t.A,{sx:{width:400,position:"relative"},children:[(0,k.jsx)(r.A,{variant:"plain",children:(0,k.jsx)("img",{src:(0,T.A)(V.coverPhoto),alt:V.name})}),(0,k.jsx)(n.A,{size:"lg",variant:"solid",src:(0,T.A)(V.profilePhoto),sx:{position:"absolute",left:10,bottom:-20}})]})}),(0,k.jsxs)(o.A,{variant:"soft",color:"warning",buttonFlex:1,sx:{marginTop:4},children:[(0,k.jsx)(l.A,{disabled:S,loading:S,loadingPosition:"start",startDecorator:(0,k.jsx)(f.A,{}),onClick:async()=>{await C(e)},children:"Delete"}),(0,k.jsx)(l.A,{startDecorator:(0,k.jsx)(h.A,{}),children:"Reset"})]}),(0,k.jsx)(z.A,{initialValues:{...V},validationSchema:b.A,onSubmit:async s=>{const i=(0,y.A)(V,s);(0,w.A)(i)||await G(e,i)},onDirty:e=>i(e),children:(0,k.jsxs)(p.lV,{children:[(0,k.jsxs)(t.A,{sx:{marginTop:4},children:[(0,k.jsx)(j.A,{name:"name",label:"Name"}),(0,k.jsx)(j.A,{sx:{marginTop:2},name:"phoneNumber",label:"Phone number"}),(0,k.jsx)(j.A,{sx:{marginTop:2},name:"website",label:"Website"}),(0,k.jsx)(j.A,{sx:{marginTop:2},label:"Email",name:"email",endDecorator:V.isVerified?(0,k.jsx)(u.A,{color:"success"}):(0,k.jsx)(l.A,{variant:"soft",size:"sm",color:"danger",children:"Verify"})}),(0,k.jsxs)(c.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{marginTop:2},children:[(0,k.jsx)(j.A,{sx:{flexGrow:1},name:"latitude",label:"Latitude"}),(0,k.jsx)(j.A,{sx:{flexGrow:1},name:"longitude",label:"Longitude"}),(0,k.jsx)(j.A,{sx:{flexGrow:1},name:"address",label:"Address"})]}),(0,k.jsx)(j.A,{sx:{marginTop:2},name:"incorporationDate",label:"Incorporation Date",type:"date"}),(0,k.jsx)(g.A,{isDynamic:!0,sx:{marginTop:2},name:"specialization",label:"Specialization"})]}),(0,k.jsxs)(c.A,{direction:"row",sx:{marginTop:3,width:"100%",position:"sticky",bottom:0,zIndex:"fab"},children:[(0,k.jsx)(l.A,{sx:{flexGrow:1},type:"reset",size:"md",variant:"soft",color:"success",disabled:!s||P,children:"Undo Changes"}),(0,k.jsx)(l.A,{size:"md",color:"success",variant:"solid",startDecorator:(0,k.jsx)(A.A,{}),sx:{flexGrow:2,marginLeft:2},type:"submit",disabled:!s||P,loading:P,loadingPosition:"start",children:"Save"})]})]})})]}):void 0}},8863:(e,s,i)=>{i.d(s,{A:()=>o});var t=i(3892),a=i(5043),r=i(579);function n(e){let{onDirty:s,children:i}=e;const{dirty:n}=(0,t.j7)();return(0,a.useEffect)((()=>{s(n)}),[n,s]),(0,r.jsx)(r.Fragment,{children:i})}function o(e){let{children:s,onDirty:i,...a}=e;return(0,r.jsx)(t.l1,{...a,children:(0,r.jsx)(n,{onDirty:i,children:s})})}},4399:(e,s,i)=>{i.d(s,{A:()=>o});const t=i(9159),a=i(67),r=i(6878),{isArray:n}=Array;function o(e,s){return function e(s,i){let o=0;return t(s,(function(s,t,l){if(!a(t,i[l])){s[n(i)?o++:l]=r(t)&&r(i[l])?e(t,i[l]):t}}))}(s,e)}},5522:(e,s,i)=>{var t=i(4994);s.A=void 0;var a=t(i(39)),r=i(579);s.A=(0,a.default)((0,r.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9 0 .06.01.12.01.19l-1.84-1.84-1.41 1.41L5 16l4.24-4.24-1.41-1.41-1.82 1.82c0-.06-.01-.11-.01-.17 0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockResetOutlined")},8030:(e,s,i)=>{var t=i(4994);s.A=void 0;var a=t(i(39)),r=i(579);s.A=(0,a.default)([(0,r.jsx)("path",{d:"M23 11.99 20.56 9.2l.34-3.69-3.61-.82L15.4 1.5 12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 11.99l2.44 2.79-.34 3.7 3.61.82 1.89 3.2 3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-3.95 1.48-.56.65.08.85.18 1.95-1.9.43-.84.19-.44.74-.99 1.68-1.78-.77-.8-.34-.79.34-1.78.77-.99-1.67-.44-.74-.84-.19-1.9-.43.18-1.96.08-.85-.56-.65L3.67 12l1.29-1.48.56-.65-.09-.86-.18-1.94 1.9-.43.84-.19.44-.74.99-1.68 1.78.77.8.34.79-.34 1.78-.77.99 1.68.44.74.84.19 1.9.43-.18 1.95-.08.85.56.65 1.29 1.47z"},"0"),(0,r.jsx)("path",{d:"m10.09 13.75-2.32-2.33-1.48 1.49 3.8 3.81 7.34-7.36-1.48-1.49z"},"1")],"VerifiedOutlined")}}]);
//# sourceMappingURL=40.55c6d7c0.chunk.js.map