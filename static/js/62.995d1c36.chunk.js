"use strict";(self.webpackChunkfarmersescos_web_portal=self.webpackChunkfarmersescos_web_portal||[]).push([[62],{62:(e,a,s)=>{s.r(a),s.d(a,{default:()=>S});var r=s(2996),o=s(9263),i=s(1834),n=s(5269),t=s(9344),l=s(3077),c=s(1773),d=s(9978),m=s(8030),x=s(8843),p=s(3513),A=s(5522),h=s(3216),u=s(4066),j=s(7677),f=s(600),g=s(8331),b=s(3892),w=s(8863),v=s(5043),y=s(7836),F=s(5030),T=s(9217),z=s(184),G=s(1036),L=s(4021);var D=s(4399),C=s(156),P=s(579);function S(){const[e,a]=(0,v.useState)(!1),{id:s}=(0,h.g)(),{data:S,error:k,isFetching:N}=(0,u.nz)(s),[R,V]=(0,z.A)(),[_,B]=function(){const[e,{isLoading:a}]=(0,u.$D)();return[async function(a,s){const{unwrap:r}=e({farmerId:a,...s});try{const e=await r();return G.oR.success("Farmer updated"),e}catch(o){G.oR.error(`Farmer update failed. Reason: ${(0,L.A)(o)}`)}},a]}();return k?(0,P.jsx)(r.Ay,{children:k}):N?(0,P.jsx)(j.A,{}):S?(0,P.jsxs)(o.A,{sx:{padding:2,marginBottom:3,maxWidth:800,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[(0,P.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",borderRadius:"md"},variant:"soft",color:"success",children:(0,P.jsxs)(o.A,{sx:{width:400,position:"relative"},children:[(0,P.jsx)(n.A,{variant:"plain",children:(0,P.jsx)("img",{src:(0,y.A)(S.coverPhoto),alt:S.firstName})}),(0,P.jsx)(t.A,{size:"lg",variant:"solid",src:(0,y.A)(S.profilePhoto),sx:{position:"absolute",left:10,bottom:-20,boxShadow:"md"}})]})}),(0,P.jsxs)(l.A,{variant:"soft",color:"warning",buttonFlex:1,sx:{marginTop:4},children:[(0,P.jsx)(c.A,{disabled:V,loading:V,loadingPosition:"start",startDecorator:(0,P.jsx)(p.A,{}),onClick:async()=>await R(s),children:"Delete"}),(0,P.jsx)(c.A,{startDecorator:(0,P.jsx)(A.A,{}),children:"Reset"})]}),(0,P.jsx)(w.A,{initialValues:{...S},validationSchema:C.Ay,onSubmit:async e=>{const a=(0,D.A)(S,e);console.log("Updated Values: ",a),await _(s,a)},onDirty:e=>a(e),children:(0,P.jsx)(b.lV,{children:(0,P.jsxs)(o.A,{sx:{marginTop:4},children:[(0,P.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,P.jsx)(f.A,{sx:{flexGrow:1},name:"firstName",label:"First name"}),(0,P.jsx)(f.A,{sx:{flexGrow:1},label:"Last name",name:"lastName"})]}),(0,P.jsx)(f.A,{sx:{marginTop:2},label:"Phone number",name:"phoneNumber",endDecorator:S.isVerified?(0,P.jsx)(m.A,{color:"success"}):(0,P.jsx)(c.A,{variant:"soft",size:"sm",color:"danger",children:"Verify"})}),(0,P.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{marginTop:2},children:[(0,P.jsx)(f.A,{sx:{flexGrow:1},label:"Latitude",name:"latitude"}),(0,P.jsx)(f.A,{containerSx:{flexGrow:1},label:"Longitude",name:"longitude"})]}),(0,P.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{marginTop:3},children:[(0,P.jsx)(f.A,{sx:{flexGrow:1},label:"Farm name",name:"farmName",value:S.farmName}),(0,P.jsx)(f.A,{sx:{flexGrow:1},label:"Farm size",name:"farmSize"}),(0,P.jsx)(f.A,{sx:{flexGrow:1},label:"Farm date",name:"farmEstablishedOn",type:"date"})]}),(0,P.jsx)(g.A,{sx:{marginTop:2},label:"Farm description",name:"farmDescription"}),(0,P.jsx)(F.A,{options:T.YQ,sx:{marginTop:2},label:"Animals",name:"animalsKept"}),(0,P.jsx)(f.A,{name:"animalsPerType",label:"For each animal selected, how many animals do you rear?",placeholder:"10,15,20",sx:{marginBottom:1}}),(0,P.jsx)(F.A,{options:T.yk,sx:{marginTop:2},label:"Crops",name:"cropsGrown"}),(0,P.jsx)(f.A,{name:"acreagePerCrop",label:"For each crop selected, how many acres per crop?",placeholder:"10,15,20",sx:{marginTop:2}}),(0,P.jsxs)(d.A,{direction:"row",sx:{marginTop:3,width:"100%"},children:[(0,P.jsx)(c.A,{sx:{flexGrow:1},type:"reset",size:"md",variant:"soft",color:"success",disabled:!e||B,children:"Undo Changes"}),(0,P.jsx)(c.A,{size:"md",color:"success",variant:"solid",startDecorator:(0,P.jsx)(x.A,{}),sx:{flexGrow:2,marginLeft:2},type:"submit",disabled:!e||B,loading:B,loadingPosition:"start",children:"Save"})]})]})})})]}):void 0}},8030:(e,a,s)=>{var r=s(4994);a.A=void 0;var o=r(s(39)),i=s(579);a.A=(0,o.default)([(0,i.jsx)("path",{d:"M23 11.99 20.56 9.2l.34-3.69-3.61-.82L15.4 1.5 12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 11.99l2.44 2.79-.34 3.7 3.61.82 1.89 3.2 3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-3.95 1.48-.56.65.08.85.18 1.95-1.9.43-.84.19-.44.74-.99 1.68-1.78-.77-.8-.34-.79.34-1.78.77-.99-1.67-.44-.74-.84-.19-1.9-.43.18-1.96.08-.85-.56-.65L3.67 12l1.29-1.48.56-.65-.09-.86-.18-1.94 1.9-.43.84-.19.44-.74.99-1.68 1.78.77.8.34.79-.34 1.78-.77.99 1.68.44.74.84.19 1.9.43-.18 1.95-.08.85.56.65 1.29 1.47z"},"0"),(0,i.jsx)("path",{d:"m10.09 13.75-2.32-2.33-1.48 1.49 3.8 3.81 7.34-7.36-1.48-1.49z"},"1")],"VerifiedOutlined")}}]);
//# sourceMappingURL=62.995d1c36.chunk.js.map